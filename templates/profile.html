{% extends "base.html" %}

{% block content %}
<div class="profile-container">
    <div class="profile-header">
        <div class="profile-avatar">
            {% if current_user.avatar_url %}
                <img src="{{ url_for('static', filename=current_user.avatar_url) }}" alt="{{ current_user.username }}">
            {% else %}
                <div class="avatar-placeholder">{{ current_user.username[0] }}</div>
            {% endif %}
        </div>
        <h1>{{ current_user.username }}</h1>
        <p class="profile-email">{{ current_user.email }}</p>
    </div>

    <form method="POST" action="{{ url_for('update_profile') }}" enctype="multipart/form-data" class="profile-form">
        {{ form.hidden_tag() }}
        
        <div class="form-group">
            {{ form.avatar.label }}
            {{ form.avatar(class="form-control") }}
        </div>

        <div class="form-group">
            {{ form.username.label }}
            {{ form.username(class="form-control") }}
        </div>

        <div class="form-group">
            {{ form.email.label }}
            {{ form.email(class="form-control") }}
        </div>

        <div class="form-group">
            {{ form.bio.label }}
            {{ form.bio(class="form-control") }}
        </div>

        <div class="form-section">
            <h3>Change Password</h3>
            <div class="form-group">
                {{ form.current_password.label }}
                {{ form.current_password(class="form-control") }}
            </div>

            <div class="form-group">
                {{ form.new_password.label }}
                {{ form.new_password(class="form-control") }}
            </div>

            <div class="form-group">
                {{ form.confirm_new_password.label }}
                {{ form.confirm_new_password(class="form-control") }}
            </div>
        </div>

        <div class="form-group">
            {{ form.submit(class="btn btn-primary") }}
        </div>
    </form>

    <div class="theme-selector">
        <h3>Theme</h3>
        <div class="theme-options">
            <button class="theme-btn light" data-theme="light">Light</button>
            <button class="theme-btn dark" data-theme="dark">Dark</button>
            <button class="theme-btn purple" data-theme="purple">Purple</button>
        </div>
    </div>
</div>
{% endblock %} 